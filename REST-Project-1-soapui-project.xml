<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="72bf004a-a084-4bf5-bd71-9c9f60e3a6da" activeEnvironment="Default" name="REST Project 1 Customer" resourceRoot="" soapui-version="5.5.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="e1bfc2c3-b7db-4233-b5e8-8430c7375f45" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Login" path="/api/rest_admin/login" id="3509cee2-3e9f-4285-ae0c-323f8a8c40d4"><con:settings/><con:parameters/><con:method name="Login 1" id="978a6a67-46d3-44d4-ae2e-1947370f0ce9" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>401 400</con:status><con:params/><con:element xmlns:log="http://rest-api.upskills.in/api/rest_admin/login">log:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:request name="Request 1" id="1c1bfc6a-0b7e-4bb1-8ae1-a4fe849505e4" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#Project#Auth}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>{
  "username": "upskills_admin",
  "password": "Talent4$$"
}</con:request><con:originalUri>http://rest-api.upskills.in/api/rest_admin/login</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="28b6c966-68ab-48d0-9fda-b000d244477a" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Logout" path="/api/rest_admin/logout" id="c90f8c62-9ff2-4dff-b36c-9c8848558069"><con:settings/><con:parameters/><con:method name="Logout 1" id="9e5587dc-2b5c-426c-8a15-a1a2ac05318d" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>401</con:status><con:params/><con:element xmlns:log="http://rest-api.upskills.in/api/rest_admin/logout">log:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:request name="Request 1" id="cac46083-7edc-456a-b4db-010e36b6f818" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="5226cfca-5eda-498b-85da-da3483a030b5" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Customers" path="/api/rest_admin/customers/" id="812bdd29-c6dd-4861-96d2-1c6f6acec2ac"><con:settings/><con:parameters/><con:method name="Customers 1" id="8f32976a-b447-4035-9c98-c3d261815cd5" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>400 401</con:status><con:params/><con:element xmlns:cus="http://rest-api.upskills.in/api/rest_admin/customers/">cus:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:cus="http://rest-api.upskills.in/api/rest_admin/customers/">cus:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Create" id="acdb8992-714d-41b1-8d69-5e530888ea82" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#Project#Auth}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/customers/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="dcdc962e-1f8b-4235-8506-eab478efe931" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Customers" path="/api/rest_admin/customers{customer_id}" id="8a142afd-7c09-4c28-8058-f4789cd7e85f"><con:settings/><con:parameters><con:parameter><con:name>customer_id</con:name><con:value/><con:style>TEMPLATE</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Customers 1" id="4667b14a-c25f-4df2-95ba-deebe9bf6ab1" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>401 404</con:status><con:params/><con:element xmlns:cus="http://rest-api.upskills.in/api/rest_admin/customers">cus:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:cus="http://rest-api.upskills.in/api/rest_admin/customers">cus:Response</con:element></con:representation><con:request name="Get" id="6ebc6600-056c-4e00-8415-8a2724888532" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#Project#Auth}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/customers</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="customer_id" value="3" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>customer_id</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="dac9dee0-722f-4667-8621-6985aa17dcca" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Customers" path="/api/rest_admin/customers/{id}" id="b1b667ef-9ec4-4f26-9f8d-04675c42d18d"><con:settings/><con:parameters><con:parameter><con:name>id</con:name><con:value/><con:style>TEMPLATE</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Customers 1" id="f0ea4bc2-7d62-4cea-9a74-dc9baa7c9e81" method="PUT"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>401 400</con:status><con:params/><con:element xmlns:cus="http://rest-api.upskills.in/api/rest_admin/customers/">cus:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:cus="http://rest-api.upskills.in/api/rest_admin/customers/">cus:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html; charset=UTF-8</con:mediaType><con:status>500</con:status><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Update" id="647f0b24-8fcf-4269-aaae-eb6d64c15686" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#Project#Auth}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>{
  "firstname": "Neha212",
  "lastname": "Prasad212",
  "email": "nehaprd12122@vipmail.hu",
  "password": "pass1234678",
  "confirm": "pass1234678",
  "telephone": "1-541-754-3010",
  "fax": "1-541-754-3010",
  "newsletter": "1",
  "status": "1",
  "approved": "1",
  "safe": "1",
  "customer_group_id": "1",
  "custom_field": {
    "1": "1985-02-01",
    "2": "2"
  },
  "address": [
    {
      "firstname": "Neha212",
      "lastname": "Prasad212",
      "company": "XYZ LTD.",
      "city": "Berlin",
      "address_1": "Demo street",
      "country_id": "81",
      "postcode": "1111",
      "zone_id": "1256",
      "address_2": "Long street 33",
      "address_id": "10",
      "default": "1",
      "custom_field": {
        "3": "https://rest-api.upskills.in"
      }
    }
  ],
  "affiliate": {
    "company": "company",
    "website": "http://demo.com",
    "tracking": "819288",
    "commission": "3",
    "tax": "99998899",
    "cheque": "Demo",
    "paypal": "demo83@demo.com",
    "bank_name": "Bank Name",
    "bank_branch_number": "ABA/BSB number (Branch Number)",
    "bank_swift_code": "SWIFT Code",
    "bank_account_name": "Account Name",
    "bank_account_number": "Account Number",
    "status": "1",
    "payment": "paypal",
    "custom_field": {
      "1": "custom field"
    }
  }
}</con:request><con:originalUri>http://rest-api.upskills.in/api/rest_admin/customers/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="24" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>id</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="b3657579-bd00-4e4f-8a68-0ba5a4018138" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Id" path="/api/rest_admin/customers/{id}" id="7324574a-6027-4ad3-8c4b-24ba2a402b86"><con:settings/><con:parameters><con:parameter><con:name>id</con:name><con:value>id</con:value><con:style>TEMPLATE</con:style><con:default>id</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Id 1" id="90cbf0fc-ef00-48cb-be62-b26182fb88ad" method="DELETE"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ns="http://rest-api.upskills.in/api/rest_admin/customers/2">ns:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:request name="Delete" id="e2da0ce0-a9cb-4319-955d-c2647e22684f" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#Project#Auth}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/customers/2</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="2" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>id</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="a7734474-003a-41ac-a699-487c36348f61" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Limit" path="/api/rest_admin/customers/limit/" id="5dfc116c-cde3-4bd9-bc30-055eb7fa11c9"><con:settings/><con:parameters/><con:method name="Limit 1" id="d7be3104-4f6d-4009-af4a-de61dd556aac" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:lim="http://rest-api.upskills.in/api/rest_admin/customers/limit/">lim:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>401</con:status><con:params/><con:element xmlns:lim="http://rest-api.upskills.in/api/rest_admin/customers/limit/">lim:Fault</con:element></con:representation><con:request name="GetList" id="38666890-8645-435f-95c5-b00c34add1c9" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#Project#Auth}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/customers/limit/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:request></con:method></con:resource></con:interface><con:testSuite id="b9ebdbd2-09c5-4f67-a884-58170269bfdd" name="CustomerDetails"><con:description>To validate admin is able to create customer</con:description><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="59aed90e-434e-41cf-a1d1-2df8c3505f84" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="End-To_end_Groovy and Property share" searchProperties="true"><con:settings/><con:testStep type="properties" name="Properties" id="01e36238-2b58-4d73-a43c-f7a676e1ceba"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>count</con:name><con:value>0</con:value></con:property><con:property><con:name>TestData</con:name><con:value/></con:property><con:property><con:name>Modified_TestData</con:name><con:value/></con:property><con:property><con:name>customer_id</con:name><con:value/></con:property><con:property><con:name>end</con:name><con:value>false</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="groovy" name="Customer Data" id="fdd10235-50b3-4ecf-9414-5aa283bd2043"><con:settings/><con:config><script>//this scripts fetched data from excel sheet which contains test data

// import Java Excel API library
import jxl.* 
import jxl.write.*

def TestCase = context.testCase

PropertiesTestStep = TestCase.getTestStepByName("Properties")

counter = PropertiesTestStep.getPropertyValue("count")

//counter to autmoatically change the test data
counter++

log.info("counter value: " +counter)

//original test data
def testData ='{"firstname": "NehaF'+counter+'",   "lastname": "PrasadF'+counter+'",   "email": "nehaprdL3'+counter+'@vipmail.hu",   "password": "sohan2119",   "confirm": "sohan2119",   "telephone": "1-541-754-3010",   "fax": "1-541-754-3010",   "newsletter": "1",   "status": "1",   "approved": "1",   "safe": "1",   "customer_group_id": "1",   "custom_field": {     "1": "1985-02-01",     "2": "2"   },   "address": [     {       "firstname": "NehaF'+counter+'",       "lastname": "PrasadF'+counter+'",       "company": "XYZ LTD.",       "city": "Berlin",       "address_1": "Demo street",       "country_id": "81",       "postcode": "1111",       "zone_id": "1256",       "address_2": "Long street 33",       "address_id": "10",       "default": "1",       "custom_field": {         "3": "https://rest-api.upskills.in"       }     }   ],   "affiliate": {     "company": "company",     "website": "http://demo.com",     "tracking": "136266'+counter+'",     "commission": "3",     "tax": "13698878'+counter+'",     "cheque": "Demo",     "paypal": "demo95'+counter+'@demo.com",     "bank_name": "Bank Name",     "bank_branch_number": "ABA/BSB number (Branch Number)",     "bank_swift_code": "SWIFT Code",     "bank_account_name": "Account Name",     "bank_account_number": "Account Number",     "status": "1",     "payment": "paypal",     "custom_field": {       "1": "custom field"     }   } }'
log.info(testData)
//test data for the edit_data step
def modData = '{"firstname": "NehaF'+counter+'",   "lastname": "PrasadF'+counter+'",   "email": "nehaprdM3'+counter+'@vipmail.hu",   "password": "sohan2119",   "confirm": "sohan2119",   "telephone": "1-541-754-308'+counter+'",   "fax": "1-541-754-3010",   "newsletter": "1",   "status": "1",   "approved": "1",   "safe": "1",   "customer_group_id": "1",   "custom_field": {     "1": "1985-02-01",     "2": "2"   },   "address": [     {       "firstname": "NehaF'+counter+'",       "lastname": "PrasadF'+counter+'",       "company": "XYZ LTD.",       "city": "Berlin",       "address_1": "Demo street",       "country_id": "81",       "postcode": "1111",       "zone_id": "1256",       "address_2": "Long street 33",       "address_id": "10",       "default": "1",       "custom_field": {         "3": "https://rest-api.upskills.in"       }     }   ],   "affiliate": {     "company": "company",     "website": "http://demo.com",     "tracking": "136266'+counter+'",     "commission": "3",     "tax": "13698878'+counter+'",     "cheque": "Demo",     "paypal": "demo95'+counter+'@demo.com",     "bank_name": "Bank Name",     "bank_branch_number": "ABA/BSB number (Branch Number)",     "bank_swift_code": "SWIFT Code",     "bank_account_name": "Account Name",     "bank_account_number": "Account Number",     "status": "1",     "payment": "paypal",     "custom_field": {       "1": "custom field"     }   } }'
log.info(modData)


//setting properties in Properties test step
PropertiesTestStep.setPropertyValue("TestData", testData)
PropertiesTestStep.setPropertyValue("Modified_TestData", modData)
PropertiesTestStep.setPropertyValue("count", counter)
PropertiesTestStep.setPropertyValue("end", "false")

    </script></con:config></con:testStep><con:testStep type="restrequest" name="Create" id="0ae77ae3-b866-4741-ac27-50205b015057"><con:settings/><con:config service="http://rest-api.upskills.in" resourcePath="/api/rest_admin/customers/" methodName="Customers 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create" id="acdb8992-714d-41b1-8d69-5e530888ea82" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#Project#Auth}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>${Properties#TestData}</con:request><con:originalUri>http://rest-api.upskills.in/api/rest_admin/customers/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ab7d69ed-c03e-4c29-98ec-907ccd1e65a2" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="RequesToResponse" id="a5fe67e3-dc50-402e-a9e5-670511e6418e"><con:settings/><con:config><script>import groovy.json.JsonSlurper


def result = testRunner.testCase.getTestStepByName('Create').getPropertyValue("response")
 log.info(result)
 def jsonSlurper = new JsonSlurper()
def object = jsonSlurper.parseText(result)
 String idtobeused=object.data.id
 log.info(idtobeused)
 testRunner.testCase.getTestStepByName("Properties").setPropertyValue("customer_id",idtobeused)
 </script></con:config></con:testStep><con:testStep type="restrequest" name="GetById" id="8e817ca9-1ad9-42ea-b128-58c264d63493"><con:settings/><con:config service="http://rest-api.upskills.in" resourcePath="/api/rest_admin/customers{customer_id}" methodName="Customers 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetById" id="6ebc6600-056c-4e00-8415-8a2724888532" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#Project#Auth}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/customers</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="b9f861d2-a1ed-4a32-9ae6-ca8f282c02af" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="d9b9279a-4cf4-4d08-89d6-adb79c4cbd91" name="Contains"><con:configuration><token>"success":1</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="customer_id" value="${Properties#customer_id}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>customer_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Modify" id="30442c93-aaf8-470d-82a4-d2582cb50866"><con:settings/><con:config service="http://rest-api.upskills.in" resourcePath="/api/rest_admin/customers/{id}" methodName="Customers 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Modify" id="647f0b24-8fcf-4269-aaae-eb6d64c15686" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#Project#Auth}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>${Properties#Modified_TestData}</con:request><con:originalUri>http://rest-api.upskills.in/api/rest_admin/customers/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="${Properties#customer_id}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="GetByIdAfterUpdate" id="0eb7a379-d272-47ee-a5b6-05a72db38bfa"><con:settings/><con:config service="http://rest-api.upskills.in" resourcePath="/api/rest_admin/customers{customer_id}" methodName="Customers 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetByIdAfterUpdate" id="6ebc6600-056c-4e00-8415-8a2724888532" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#Project#Auth}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/customers</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="810023ae-6454-4ffc-9a40-f2115edd4bcf" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="0609d955-9890-4969-9046-ccec9519b22a" name="JsonPath Match"><con:configuration><path>.data.customer_id</path><content>[${Properties#customer_id}]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="customer_id" value="${Properties#customer_id}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>customer_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="loop" id="7eab360b-7164-44a7-8070-6e5af311a4c6"><con:settings/><con:config><script>def TestCase = context.testCase
PropertiesTestStep = TestCase.getTestStepByName("Properties")

Stop = PropertiesTestStep.getPropertyValue("end").toString()
if (Stop=="true")     
log.info("loop")
else
testRunner.gotoStepByName("Customer Data")</script></con:config></con:testStep><con:testStep type="groovy" name="Clean up" id="6d86c535-1664-4a91-afbf-17d66f1174b9" disabled="true"><con:settings/><con:config><script>def TestCase = context.testCase

PropertiesTestStep = TestCase.getTestStepByName("Properties")
PropertiesTestStep.setPropertyValue("TestData", "")
PropertiesTestStep.setPropertyValue("customer_id", "")
PropertiesTestStep.setPropertyValue("Modified_TestData", "")
PropertiesTestStep.setPropertyValue("count", "0")
log.info("cleaned up")</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="49cdf448-267a-4502-9c5a-db9e1196a662" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="End-toEnd_test Using Property and Property Transfer" searchProperties="true"><con:settings/><con:testStep type="properties" name="Customer_Add_property" id="120b961a-8043-47cb-b193-439551dfb75f"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>count</con:name><con:value>:</con:value></con:property><con:property><con:name>customer_id</con:name><con:value/></con:property><con:property><con:name>createdata</con:name><con:value>{"firstname": "IshaG:",   "lastname": "PrasadF:",   "email": "ishaprdL13:@vipmail.hu",   "password": "sohan2119",   "confirm": "sohan2119",   "telephone": "1-541-754-3010",   "fax": "1-541-754-3010",   "newsletter": "1",   "status": "1",   "approved": "1",   "safe": "1",   "customer_group_id": "1",   "custom_field": {     "1": "1985-02-01",     "2": "2"   },   "address": [     {       "firstname": "IshaG:",       "lastname": "PrasadF:",       "company": "XYZ LTD.",       "city": "Berlin",       "address_1": "Demo street",       "country_id": "81",       "postcode": "1111",       "zone_id": "1256",       "address_2": "Long street 33",       "address_id": "10",       "default": "1",       "custom_field": {         "3": "https://rest-api.upskills.in"       }     }   ],   "affiliate": {     "company": "company",     "website": "http://demo.com",     "tracking": "136212:",     "commission": "3",     "tax": "13698812:",     "cheque": "Demo",     "paypal": "demo98:@demo.com",     "bank_name": "Bank Name",     "bank_branch_number": "ABA/BSB number (Branch Number)",     "bank_swift_code": "SWIFT Code",     "bank_account_name": "Account Name",     "bank_account_number": "Account Number",     "status": "1",     "payment": "paypal",     "custom_field": {       "1": "custom field"     }   } }</con:value></con:property><con:property><con:name>modifydata</con:name><con:value>{"firstname": "IshaG:",   "lastname": "PrasadF:",   "email": "ishaprdM13:@vipmail.hu",   "password": "sohan2119",   "confirm": "sohan2119",   "telephone": "1-541-754-311:",   "fax": "1-541-754-3010",   "newsletter": "1",   "status": "1",   "approved": "1",   "safe": "1",   "customer_group_id": "1",   "custom_field": {     "1": "1985-02-01",     "2": "2"   },   "address": [     {       "firstname": "IshaG:",       "lastname": "PrasadF:",       "company": "XYZ LTD.",       "city": "Berlin",       "address_1": "Demo street",       "country_id": "81",       "postcode": "1111",       "zone_id": "1256",       "address_2": "Long street 33",       "address_id": "10",       "default": "1",       "custom_field": {         "3": "https://rest-api.upskills.in"       }     }   ],   "affiliate": {     "company": "company",     "website": "http://demo.com",     "tracking": "136212:",     "commission": "3",     "tax": "13698812:",     "cheque": "Demo",     "paypal": "demo98:@demo.com",     "bank_name": "Bank Name",     "bank_branch_number": "ABA/BSB number (Branch Number)",     "bank_swift_code": "SWIFT Code",     "bank_account_name": "Account Name",     "bank_account_number": "Account Number",     "status": "1",     "payment": "paypal",     "custom_field": {       "1": "custom field"     }   } }</con:value></con:property><con:property><con:name>end</con:name><con:value>false</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="groovy" name="Source" id="24df4c7a-465b-4d86-962b-c9da445b416a"><con:settings/><con:config><script>//this scripts fetched data from excel sheet which contains test data

// import Java Excel API library
import jxl.* 
import jxl.write.*

def TestCase = context.testCase

PropertiesTestStep = TestCase.getTestStepByName("Customer_Add_property")

counter = PropertiesTestStep.getPropertyValue("count")

//counter to autmoatically change the test data
counter++

log.info("counter value: " +counter)

def createData ='{"firstname": "IshaH'+counter+'",   "lastname": "PrasadF'+counter+'",   "email": "ishaprdL11'+counter+'@vipmail.hu",   "password": "sohan2119",   "confirm": "sohan2119",   "telephone": "1-541-754-3010",   "fax": "1-541-754-3010",   "newsletter": "1",   "status": "1",   "approved": "1",   "safe": "1",   "customer_group_id": "1",   "custom_field": {     "1": "1985-02-01",     "2": "2"   },   "address": [     {       "firstname": "IshaH'+counter+'",       "lastname": "PrasadF'+counter+'",       "company": "XYZ LTD.",       "city": "Berlin",       "address_1": "Demo street",       "country_id": "81",       "postcode": "1111",       "zone_id": "1256",       "address_2": "Long street 33",       "address_id": "10",       "default": "1",       "custom_field": {         "3": "https://rest-api.upskills.in"       }     }   ],   "affiliate": {     "company": "company",     "website": "http://demo.com",     "tracking": "136213'+counter+'",     "commission": "3",     "tax": "13698813'+counter+'",     "cheque": "Demo",     "paypal": "demo99'+counter+'@demo.com",     "bank_name": "Bank Name",     "bank_branch_number": "ABA/BSB number (Branch Number)",     "bank_swift_code": "SWIFT Code",     "bank_account_name": "Account Name",     "bank_account_number": "Account Number",     "status": "1",     "payment": "paypal",     "custom_field": {       "1": "custom field"     }   } }'
log.info(createData)
//test data for the edit_data step
def modData = '{"firstname": "IshaH'+counter+'",   "lastname": "PrasadF'+counter+'",   "email": "ishaprdM11'+counter+'@vipmail.hu",   "password": "sohan2119",   "confirm": "sohan2119",   "telephone": "1-541-754-312'+counter+'",   "fax": "1-541-754-3010",   "newsletter": "1",   "status": "1",   "approved": "1",   "safe": "1",   "customer_group_id": "1",   "custom_field": {     "1": "1985-02-01",     "2": "2"   },   "address": [     {       "firstname": "IshaH'+counter+'",       "lastname": "PrasadF'+counter+'",       "company": "XYZ LTD.",       "city": "Berlin",       "address_1": "Demo street",       "country_id": "81",       "postcode": "1111",       "zone_id": "1256",       "address_2": "Long street 33",       "address_id": "10",       "default": "1",       "custom_field": {         "3": "https://rest-api.upskills.in"       }     }   ],   "affiliate": {     "company": "company",     "website": "http://demo.com",     "tracking": "136213'+counter+'",     "commission": "3",     "tax": "13698813'+counter+'",     "cheque": "Demo",     "paypal": "demo99'+counter+'@demo.com",     "bank_name": "Bank Name",     "bank_branch_number": "ABA/BSB number (Branch Number)",     "bank_swift_code": "SWIFT Code",     "bank_account_name": "Account Name",     "bank_account_number": "Account Number",     "status": "1",     "payment": "paypal",     "custom_field": {       "1": "custom field"     }   } }'
log.info(modData)


//setting properties in Properties test step
PropertiesTestStep.setPropertyValue("createdata", createData)
PropertiesTestStep.setPropertyValue("modifydata", modData)
PropertiesTestStep.setPropertyValue("count", counter)
PropertiesTestStep.setPropertyValue("end", "false")
    </script></con:config></con:testStep><con:testStep type="restrequest" name="CreateCustomer" id="0788102f-b1d0-4cba-a10b-887472118041"><con:settings/><con:config service="http://rest-api.upskills.in" resourcePath="/api/rest_admin/customers/" methodName="Customers 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="CreateCustomer" id="acdb8992-714d-41b1-8d69-5e530888ea82" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#Project#Auth}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>${Customer_Add_property#createdata}</con:request><con:originalUri>http://rest-api.upskills.in/api/rest_admin/customers/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="403d8ade-96d7-49fb-a651-83bfbb9c31fd" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="1d40a5ae-6a3d-4eb7-86be-1c0a4e89a9e8"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>cust_id</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>CreateCustomer</con:sourceStep><con:sourcePath>$.data.id</con:sourcePath><con:targetType>customer_id</con:targetType><con:targetStep>GetCustomerByID</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="GetCustomerByID" id="76fd5348-c105-4ded-9ed6-d2fceb9b429d"><con:settings/><con:config service="http://rest-api.upskills.in" resourcePath="/api/rest_admin/customers{customer_id}" methodName="Customers 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetCustomerByID" id="6ebc6600-056c-4e00-8415-8a2724888532" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#Project#Auth}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>22</con:request><con:originalUri>http://rest-api.upskills.in/api/rest_admin/customers3</con:originalUri><con:assertion type="Simple Contains" id="f639b9b4-9e0a-46c9-9512-dc56ad0786ee" name="Contains"><con:configuration><token>"success"</token><ignoreCase>true</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="405299fd-002a-46f0-91e9-6c5ee527dd23" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="customer_id" value="126" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>customer_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="ModifyCustomerDetails" id="6993f485-03da-418a-ba3f-ab5770db7291"><con:settings/><con:config service="http://rest-api.upskills.in" resourcePath="/api/rest_admin/customers/{id}" methodName="Customers 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="ModifyCustomerDetails" id="647f0b24-8fcf-4269-aaae-eb6d64c15686" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#Project#Auth}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>${Customer_Add_property#modifydata}</con:request><con:originalUri>http://rest-api.upskills.in/api/rest_admin/customers/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="${GetCustomerByID#customer_id}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="GetDetailofUpdatedEmployee" id="830cae65-d914-4c8c-a708-e6083393c7cb"><con:settings/><con:config service="http://rest-api.upskills.in" resourcePath="/api/rest_admin/customers{customer_id}" methodName="Customers 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetDetailofUpdatedEmployee" id="6ebc6600-056c-4e00-8415-8a2724888532" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#Project#Auth}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/customers</con:originalUri><con:assertion type="Simple Contains" id="f9fc1082-faad-4ac5-99ae-e7a01b466ac7" name="Contains"><con:configuration><token/><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="62363250-1eb0-4503-9ea2-4c64004340be" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="61386de1-5b64-4006-bece-b332421cf03b" name="JsonPath Match"><con:configuration><path>.data.customer_id</path><content>[${GetDetailofUpdatedEmployee#customer_id}]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="customer_id" value="${GetCustomerByID#customer_id}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>customer_id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="loop" id="91db9f3b-acc1-4e8a-8a80-5fdb37142217"><con:settings/><con:config><script>def TestCase = context.testCase
PropertiesTestStep = TestCase.getTestStepByName("Customer_Add_property")

Stop = PropertiesTestStep.getPropertyValue("end").toString()
if (Stop=="true")     
log.info("loop")
else
testRunner.gotoStepByName("Source")</script></con:config></con:testStep><con:testStep type="groovy" name="Clean up" id="0c74a9a6-2c05-4b55-be0a-3092c925842b" disabled="true"><con:settings/><con:config><script>def TestCase = context.testCase

PropertiesTestStep = TestCase.getTestStepByName("Customer_Add_property")
PropertiesTestStep.setPropertyValue("createdata", "")
PropertiesTestStep.setPropertyValue("modifydata", "")
PropertiesTestStep.setPropertyValue("count", "0")


log.info("cleaned up")</script></con:config></con:testStep><con:testStep type="restrequest" name="logout" id="4b8055a7-7608-4b95-9938-17bf63f7672a" disabled="true"><con:settings/><con:config service="http://rest-api.upskills.in" resourcePath="/api/rest_admin/logout" methodName="Logout 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="logout" id="cac46083-7edc-456a-b4db-010e36b6f818" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/logout</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>customer_id</con:name><con:value>13</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:properties><con:property><con:name>Auth</con:name><con:value>Bearer 458123351c5d77d9ff3deb1515f78779797afad2</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>